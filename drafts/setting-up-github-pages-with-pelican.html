
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://dariushall.com/theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://dariushall.com/theme/pygments/github.min.css">


  <link rel="stylesheet" type="text/css" href="https://dariushall.com/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://dariushall.com/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://dariushall.com/theme/font-awesome/css/solid.css">


    <link href="https://dariushall.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Darius Hall Atom">



  


<meta name="author" content="Darius" />
<meta name="description" content="Over the last few days I have been trying to figure out how I want to go about chronicling my... accomplishments? I figured, if I&#39;m going to spend time learning something, I should also invest some time documenting what I have learned for three reasons (in no particular order): So …" />
<meta name="keywords" content="">


<meta property="og:site_name" content="Darius Hall"/>
<meta property="og:title" content="Setting Up GitHub Pages With Pelican"/>
<meta property="og:description" content="Over the last few days I have been trying to figure out how I want to go about chronicling my... accomplishments? I figured, if I&#39;m going to spend time learning something, I should also invest some time documenting what I have learned for three reasons (in no particular order): So …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://dariushall.com/drafts/setting-up-github-pages-with-pelican.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2021-03-24 08:46:17.992390-06:00"/>
<meta property="article:modified_time" content="2021-03-24 08:46:17.992390-06:00"/>
<meta property="article:author" content="https://dariushall.com/author/darius.html">
<meta property="article:section" content="Other"/>
<meta property="og:image" content="/images/profile.jpg">

  <title>Darius Hall &ndash; Setting Up GitHub Pages With Pelican</title>

</head>
<body class="light-theme">
  <aside>
    <div>
      <a href="https://dariushall.com">
        <img src="/images/profile.jpg" alt="Darius Hall" title="Darius Hall">
      </a>

      <h1>
        <a href="https://dariushall.com">Darius Hall</a>
      </h1>

<p>My piece of the Internet</p>

      <nav>
        <ul class="list">


              <li>
                <a target="_self"
                   href="https://dariushall.com/pages/about.html#about">
                  about
                </a>
              </li>

            <li>
              <a target="_self" href="https://getpelican.com/" >Pelican</a>
            </li>
            <li>
              <a target="_self" href="https://palletsprojects.com/p/jinja/" >Jinja2</a>
            </li>
        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-LinkedIn" href="https://www.linkedin.com/in/dariushall/" target="_blank">
              <i class="fab fa-LinkedIn"></i>
            </a>
          </li>
          <li>
            <a  class="sc-GitHub" href="https://github.com/dubiZA" target="_blank">
              <i class="fab fa-GitHub"></i>
            </a>
          </li>
      </ul>
    </div>

  </aside>
  <main>

    <nav>
      <a href="https://dariushall.com">Home</a>

      <a href="/categories">Categories</a>
      <a href="/tags">Tags</a>

      <a href="https://dariushall.com/feeds/all.atom.xml">Atom</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="setting-up-github-pages-with-pelican">Setting Up GitHub Pages With Pelican</h1>
    <p>
      Posted on Wed 24 March 2021 in <a href="https://dariushall.com/category/other.html">Other</a>

    </p>
  </header>


  <div>
    <p>Over the last few days I have been trying to figure out how I want to go about chronicling my... accomplishments? I figured, if I'm going to spend time learning something, I should also invest some time documenting what I have learned for three reasons (in no particular order):</p>
<ul>
<li>So that I don't have to find all the sources out there on the web that lead to success all over again</li>
<li>With the hopes that it proves useful to someone out there in comming days</li>
<li>The stuff I've worked on stays in my head as a result of "writing it down" so to speak</li>
</ul>
<p>Setting up this site with GitHub Pages using Pelican (the Python based static site generator) and fronting it with Cloudflare's free tier CDN was enough of a challenge that it seems like a fantastic place to start writing. So, let's get started!</p>
<p><img alt="pelican" src="https://dariushall.com/images/birger-strahl-3FDMW9XoNXU-unsplash.jpg">
Photo by <a href="https://unsplash.com/@bist31?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" title="Birger Strahl">Birger Strahl</a> on <a href="https://unsplash.com/s/photos/pelican?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" title="Unsplash">Unsplash</a>  </p>
<hr>
<h1><a id="resources"></a>Resources I Used</h1>
<p>I followed two guides to get this to work:</p>
<ul>
<li><a href="https://fedoramagazine.org/make-github-pages-blog-with-pelican/">Fedora Magazine</a> has a pretty solid write up that helped the most in figuring things out</li>
<li><a href="https://www.tomordonez.com/make-static-website-python-github-pages/">Tom Ordonez's</a> blog is where I found the Fedora Magazine reference and the idea to configure the GitHub Pages site with Cloudflare as CDN</li>
</ul>
<h1>Setting Up GitHub</h1>
<p>If you're not familiar with GitHub Pages, you can <a href="https://pages.github.com/" title="GitHub Pages">read more about it here</a>. In a nutshell, GitHub very generously offers to host "static" web content for you and/or your projects. No infrastructure to worry about. Extremely minimal configuration. The power of git workflow. A common use case for this is publishing personal/project blogs, for which, GitHub integrates with the Ruby based static site generator <a href="https://jekyllrb.com/" title="Jekyll Static Site Generator">Jekyl</a>.</p>
<p>While I'm sure Jekyll is great, I'm a Python guy and decided to make the GitHub Pages (GHP) thing a tiny bit more complicated by using a Python based static site generator called <a href="https://blog.getpelican.com/" title="Pelican Python Static Site Generator">Pelican</a>. While GHP is capabile of automatically building the static files (HTML, etc.) when using Jekyll, choosing to use Pelican appears to mean doing things more manually (I say appears because I haven't actually looked further in to automating builds with anything else). To accomodate this manual process, two GitHub repos are suggested.</p>
<h2>Creating the Repos</h2>
<p>The <a href="#resources">Fedora Magazine</a> write up I followed suggests creating one GitHub repo named the way GHP requires, which is in the form <code>username.github.io</code> (follow the <a href="https://docs.github.com/en/github/working-with-github-pages/creating-a-github-pages-site" title="GitHub Pages Docs">official GHP docs</a> if you are unsure how to do this). This is where the output files from Pelican will go. The name of the repo <strong>must exactly match</strong> <code>username.github.io</code> -- if it does not, GHP will not work. Make sure to initialize the repo with a readme. I left mine as a public repo. This repo will be configured as a submodle within the second repo at a later stage.</p>
<p>I suppose the second repo name doesn't matter too much, but it is suggested to name it <code>username.github.io-src</code>. This repo will contain the source files used to generate the HTML, CSS, etc. I set mine up with a <code>.gitignore</code> for Python and, though it's probably not necessary, have it as a private repo.</p>
<h2>Cloning the Repos</h2>
<p>Once you have the repos created, they can be cloned to your local machine, but <strong>STOP</strong>: if you are familiar with <code>git clone</code>. Don't clone them both just yet. The <code>username.github.io</code> repo will be set up as a submodule within <code>username.github.io-src</code>. So, follow this sequence to make sure it's done right:</p>
<p>This assumes you are set up in GitHub to <a href="https://docs.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh" title="Using GitHub with SSH">clone via SSH</a>. Make sure to replace <code>&lt;your_username&gt;</code> and to execute this command where you want the cloned repo to exist locally. It will create a new directory called <code>ghpages</code> in your current working directory.</p>
<div class="highlight"><pre><span></span><code>git clone git@github.com:&lt;your_username&gt;/&lt;your_username&gt;.github.io-src ghpages
</code></pre></div>

<p>Next, change to the <code>ghpages</code> directory</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ghpages
</code></pre></div>

<p>Now you can set up the submodule. I'll be honest here, I'm not sure if this is the best way to do this or not, I was just following directions. But the ghp-import method the <a href="https://docs.getpelican.com/en/latest/tips.html#publishing-to-github" title="Pelican Docs">Pelican docs</a> talked about confused me and the Fedora Mag post seemed to confirm it didn't work as expected, so, I went with the "ask no questions" approach and blindly followed Fedora Mag. If you're interested, <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules" title="Git Submodules">read more about submodules here</a>.</p>
<div class="highlight"><pre><span></span><code>git submodule add git@github.com:username/username.github.io.git output
</code></pre></div>

<p>Your folder structure will look something like this at this point</p>
<div class="highlight"><pre><span></span><code>ghpages/
<span class="p">|</span>-- output/
</code></pre></div>

<h1>Setting Up Python and Pelican</h1>
<p>As mentioned previously, Pelican is a Python static site generator. As such, it is probably wise to use a virtual environment when installing and configuring Pelican so as not to interfere with your "global" Python environment. Personally, I am a huge fan of <a href="https://github.com/pyenv/pyenv" title="GitHub Pyenv Page">pyenv</a> for managing multiple versions of Python. When using the <a href="https://github.com/pyenv/pyenv-installer" title="GitHub pyenv-installer Page">pyenv-installer</a> script, you will also have access to <a href="https://github.com/pyenv/pyenv-virtualenv" title="GitHub pyenv-virtualenv Page">pyenv-virtualenv</a>. The combination of these tools is what I use to configure my Python development environments.</p>
<p>Having said all that, I'll assume you're just using your system Python for these purposes.</p>
<h2>Creating the Python Virtual Environment</h2>
<p>Creating a Python virtual environment is pretty simple. Making sure to be in the <code>ghpages</code> directory, run the following command (I'm putting python3 here. While Python 2 is EOL, many OSes have not completely migrated to Python 3 yet. In many cases, running <code>python --version</code> in your terminal will show some version of Python 2 as the system python. I think it's safe to assume that running <code>python3</code> will ensure you're using Python 3 even if your system's default Python version is 3.x):</p>
<div class="highlight"><pre><span></span><code>python3 -m venv .venv
</code></pre></div>

<p>With the virtual environment created, it's time  to activate it:</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span> ./.venv/bin/activate
</code></pre></div>

<p>The venv can be exited using:</p>
<div class="highlight"><pre><span></span><code>deactivate
</code></pre></div>

<h2>Installing Pelican</h2>
<p>Now that you have the virtual environment configured and active, you can install Pelican and it's dependancies without it affecting your system Python environment.</p>
<p>Installing Pelican is as easy as:</p>
<div class="highlight"><pre><span></span><code>pip3 install pelican
pip3 install Markdown
pip3 install typogrify
</code></pre></div>

<h2>Initializing Pelican</h2>
<p>With Pelican installed, getting the base configuration up and running is pretty easy. Again, making sure to be in <code>ghpages</code>, run:</p>
<div class="highlight"><pre><span></span><code>pelican-quickstart
</code></pre></div>

<p>Pelican will present a series of questions to help in setting up the base configuration. Most of the options have defaults which are acceptable for this. Defaults will be expressed either in square regulare braces/parentheses <code>[ ]</code> or <code>( )</code>. Answer them as follows:</p>
<div class="highlight"><pre><span></span><code>Welcome to pelican-quickstart v4.5.4.

This script will <span class="nb">help</span> you create a new Pelican-based website.

Please answer the following questions so this script can generate the files
needed by Pelican.

Where <span class="k">do</span> you want to create your new web site? <span class="o">[</span>.<span class="o">]</span>
What will be the title of this web site? &lt;provide your desired title&gt;
Who will be the author of this web site? &lt;your name&gt;
What will be the default language of this web site? <span class="o">[</span>en<span class="o">]</span>
Do you want to specify a URL prefix? e.g., https://example.com   <span class="o">(</span>Y/n<span class="o">)</span>
What is your URL prefix? <span class="o">(</span>see above example<span class="p">;</span> no trailing slash<span class="o">)</span> https://username.github.io &lt;or customer domain, in my <span class="k">case</span> https://dariushall.com&gt;
Do you want to <span class="nb">enable</span> article pagination? <span class="o">(</span>Y/n<span class="o">)</span>
What is your <span class="nb">time</span> zone? <span class="o">[</span>Europe/Paris<span class="o">]</span> &lt;use a tz database compatible name&gt;
Do you want to generate a tasks.py/Makefile to automate generation and publishing? <span class="o">(</span>Y/n<span class="o">)</span>
Do you want to upload your website using FTP? <span class="o">(</span>y/N<span class="o">)</span>
Do you want to upload your website using SSH? <span class="o">(</span>y/N<span class="o">)</span>
Do you want to upload your website using Dropbox? <span class="o">(</span>y/N<span class="o">)</span>
Do you want to upload your website using S3? <span class="o">(</span>y/N<span class="o">)</span>
Do you want to upload your website using Rackspace Cloud Files? <span class="o">(</span>y/N<span class="o">)</span>
Do you want to upload your website using GitHub Pages? <span class="o">(</span>y/N<span class="o">)</span> Y &lt;<span class="nb">set</span> this to Y&gt;
Is this your personal page <span class="o">(</span>username.github.io<span class="o">)</span>? <span class="o">(</span>y/N<span class="o">)</span> Y &lt;<span class="nb">set</span> this to Y&gt;
</code></pre></div>

<p>The options you'll need to change from default are the <code>Do you want to upload your website using GitHub Pages?</code> and <code>Is this your personal page (username.github.io)?</code> Make sure to change those to <code>Y</code>.</p>
<h2>Configuring Pelican</h2>
<h1>Setting Up a Custom Domain</h1>
<h1>Fonting GitHub Pages with Cloudflare CDN</h1>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Darius Hall ",
  "url" : "https://dariushall.com",
  "image": "/images/profile.jpg",
  "description": ""
}
</script>

</body>
</html>